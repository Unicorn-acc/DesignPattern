# 设计模式

黑马设计模式详解、笔记：https://www.bilibili.com/video/BV1Np4y1z7BU

参考：

https://bright-boy.gitee.io/technical-notes/#/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index

https://blog.csdn.net/qq_40493944/category_11264667.html

# 3 软件设计原则

## 3.1 开闭原则

  对扩展开放，对修改关闭。在程序需要进行拓展时，不能修改原有代码。想达到这种效果，需要使用抽象类和接口。

## 3.2 里氏代换原则

任何基类出现的地方，子类一定可以出现。

子类可以拓展父类的功能，但不能改变父类的功能。

换句话说，子类继承父类时，除了添加新功能外，不要重写父类的方法。

```
正方形继承长方形，重写了setLength方法，违反里氏代换原则。
```

## 3.3 依赖倒转原则

  高层模块不应该依赖底层模块，两者应该依赖其抽象；抽象不应该依赖细节，细节应该抽象。简单的说，就是要对抽象进行编程，不要对实现进行编程，这样就降低了客户与实现模块之间的耦合。

```
比如组装电脑。只需要，内存，机箱cpu，硬盘，只要这些东西有了，就能运行计算机。但具体的品种可以选择。
```

## 3.4 接口隔离原则

  客户端不应该被迫依赖于它不适用的方法。一个类对另一个类的依赖应该建立在最小的接口上。

## 3.5 迪米特法则

又叫最少知识原则。

只和你的直接朋友交谈，不跟“陌生人”说话。

  其含义是：如果两个软件实体无须直接通信，那么就不应当发生直接的互相调用，可以通过第三方（包含了这两个软件）转发该调用。其目的是降低类之间的耦合度，提高模块的相对独立性。

  迪米特法则中的“朋友”是指：当前对象本身、当前对象的成员对象，当前对象创建的对象、当前对象的方法参数等。这些对象同当前对象存在关联、聚合或者组合关系，可以直接访问对象的方法。

## 3.6 合成复用原则

  尽量使用组合或者聚合等关联关系来实现，其次才考虑使用继承关系来实现。

  采用组合或者聚合复用时，可以将已有对象纳入新对象中，使之成为新对象的一部分，新对象可以调用已有对象的功能。

# 4，创建者模式

创建型模式的主要关注点是“怎样创建对象？”，它的主要特点是“将对象的创建与使用分离”。

这样可以降低系统的耦合度，使用者不需要关注对象的创建细节。

创建型模式分为：

- 单例模式
- 工厂方法模式
- 抽象工程模式
- 原型模式
- 建造者模式

## 4.1 单例设计模式

单例模式（Singleton Pattern）是 Java 中最简单的设计模式之一。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。

这种模式涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。

单例设计模式分类两种：

​	饿汉式：类加载就会导致该单实例对象被创建	

​	懒汉式：类加载不会导致该单实例对象被创建，而是首次使用该对象时才会创建